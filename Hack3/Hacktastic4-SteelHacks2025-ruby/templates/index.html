<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VishNet - Voice Threat Detection</title>
  <meta name="description" content="Real-time voice threat detection and analysis system">
  <link rel="stylesheet" href="/static/style.css" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-900 text-white flex flex-col pt-4 px-4 relative pb-32 overflow-hidden" role="main">
  <!-- Header -->
  <header class="absolute top-4 left-4 flex items-center space-x-4 z-20" role="banner">
    <div id="statusIcon" class="w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-700 rounded-full flex items-center justify-center shadow-lg" role="img" aria-label="Cyber Sentinel Status Indicator">
      <svg id="micIcon" class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 2l9 4-3 10a9 9 0 01-12 0L3 6l9-4z"/>
      </svg>
    </div>
    <div>
      <h1 class="text-3xl font-bold tracking-wide">VishNet</h1>
      <p class="text-lg text-gray-300">Real-Time Threat Intelligence</p>
      <span id="statusBadge"
            class="mt-2 inline-block px-4 py-2 rounded-full bg-gray-800 border border-gray-700 text-cyan-300 text-base font-semibold"
            role="status" aria-live="polite">
        Ready to protect
      </span>
    </div>
  </header>

  <!-- Gauge -->
  <div class="absolute top-4 left-1/2 -translate-x-1/2 z-10" role="img" aria-label="Threat Level Gauge">
    <svg viewBox="0 0 240 140" class="w-[380px] max-w-[90vw] overflow-visible" aria-describedby="gauge-description">
      <desc id="gauge-description">Circular gauge showing current threat detection percentage</desc>
      <path d="M 40 120 A 80 80 0 0 1 200 120" fill="none" stroke="#374151" stroke-width="20" stroke-linecap="round"/>
      <path id="gaugeForeground"
            d="M 40 120 A 80 80 0 0 1 200 120"
            fill="none"
            stroke="transparent"
            stroke-width="20"
            stroke-linecap="round"
            stroke-dasharray="251"
            stroke-dashoffset="251"
            style="transition: stroke 0.5s, stroke-dashoffset 0.5s;"
            aria-hidden="true"
      />
      <circle cx="120" cy="120" r="35" fill="#111827" stroke="#4B5563" stroke-width="2" aria-hidden="true"/>
      <svg x="100" y="100" width="40" height="40" viewBox="0 0 24 24" aria-hidden="true">
        <path id="gaugeIcon" fill="transparent"
              d="M12 2l9 4-3 10a9 9 0 01-12 0L3 6l9-4z"/>
      </svg>
      <text id="percentage"
            x="120" y="128"
            text-anchor="middle"
            font-size="28"
            fill="#00FFFF"
            font-weight="bold"
            style="text-shadow: 0 0 6px #00FFFF; font-family: 'Open Sans', Arial, sans-serif;"
            role="status" aria-live="polite" aria-label="Current threat percentage">
        0%
      </text>
    </svg>
  </div>

  <!-- Notifications & Spacer -->
  <div class="w-full mt-40 flex flex-row h-full">
    <div id="notificationsContainer"
         class="scroll-container flex flex-col space-y-2 pr-2"
         style="width:26%; max-width:300px; overflow-y:auto; max-height:500px;"
         role="log" aria-live="polite" aria-label="Threat notifications">
    </div>
    <div class="flex-1"></div>
  </div>

  <!-- Toggle Button - Enhanced for accessibility -->
  <div class="fixed bottom-8 left-1/2 -translate-x-1/2">
    <button id="toggleButton"
            class="bg-cyan-600 hover:bg-cyan-700 focus:bg-cyan-800 text-white text-2xl font-bold py-6 px-12 rounded-full shadow-lg transition duration-300 focus:outline-none focus:ring-4 focus:ring-cyan-300"
            aria-label="Toggle voice threat detection">
      ðŸŽ§ Start Listening
    </button>
  </div>

<!-- AI Summary Panel - Enhanced for accessibility -->
<div class="fixed top-24 right-4 w-[320px] max-w-[90vw] bg-gray-800 bg-opacity-80 rounded-lg p-6 shadow-lg overflow-y-auto max-h-[400px] z-20 no-scrollbar">
  <h2 class="text-xl font-bold text-cyan-400 mb-4">AI Summary</h2>
  <div id="aiSummary" class="text-base text-gray-100 space-y-3 leading-relaxed">
    No AI analysis available yet
  </div>
</div>

<!-- Transcript Area - Enhanced for accessibility -->
<div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[650px] max-w-[90vw] bg-gray-800 bg-opacity-70 rounded-lg p-8 shadow-xl overflow-y-auto max-h-[320px] no-scrollbar" role="main" aria-label="Transcript display">
  <div id="interimTranscription" class="text-base text-gray-300 space-y-3 interim-transcription leading-relaxed" role="status" aria-live="polite" aria-label="Interim transcript"> </div>
  <div id="finalTranscription" class="text-lg text-gray-100 space-y-4 final-transcription leading-relaxed font-medium" role="log" aria-live="polite" aria-label="Final transcript"></div>
</div>
  <script src="https://cdn.socket.io/4.4.1/socket.io.min.js"></script>
  <script src="/static/app.js"></script>
</body>
</html>